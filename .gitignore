-- Cria uma janela para o hub
local hub = Instance.new("ScreenGui")
hub.Name = "Lua Hub • Universal Script"
hub.Parent = game:GetService("CoreGui")

-- Cria um título para o hub
local title = Instance.new("TextLabel")
title.Name = "Title"
title.Parent = hub
title.BackgroundColor3 = Color3.new(0, 0, 0)
title.BorderSizePixel = 0
title.Position = UDim2.new(0.5, -100, 0.1, -25)
title.Size = UDim2.new(0, 200, 0, 50)
title.Font = Enum.Font.SourceSansBold
title.Text = "Lua Hub • Universal Script"
title.TextColor3 = Color3.new(1, 1, 1)
title.TextSize = 24

-- Cria um painel para os botões
local panel = Instance.new("Frame")
panel.Name = "Panel"
panel.Parent = hub
panel.BackgroundColor3 = Color3.new(0, 0, 0)
panel.BorderSizePixel = 0
panel.Position = UDim2.new(0.5, -150, 0.3, 0)
panel.Size = UDim2.new(0, 300, 0, 300)

-- Cria uma função para criar um botão
local function createButton(name, text, position)
    local button = Instance.new("TextButton")
    button.Name = name
    button.Parent = panel
    button.BackgroundColor3 = Color3.new(0.5, 0.5, 0.5)
    button.BorderSizePixel = 0
    button.Position = position
    button.Size = UDim2.new(0.8, 0, 0.2, 0)
    button.Font = Enum.Font.SourceSansBold
    button.Text = text
    button.TextColor3 = Color3.new(1, 1, 1)
    button.TextSize = 18
    return button
end

-- Cria um botão para o Fly
local flyButton = createButton("Fly", "Fly", UDim2.new(0.1, 0, 0.1, 0))

-- Cria um botão para o ESP
local espButton = createButton("ESP", "ESP", UDim2.new(0.1, 0, 0.4, 0))

-- Cria uma variável para armazenar o estado do Fly
local flyEnabled = false

-- Cria uma função para ativar ou desativar o Fly
local function toggleFly()
    flyEnabled = not flyEnabled -- Inverte o valor da variável
    if flyEnabled then -- Se o Fly estiver ativado
        flyButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0) -- Muda a cor do botão para verde
        UserInputService.JumpRequest:Connect(function() -- Conecta um evento para detectar quando o usuário pula
            game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid"):ChangeState(Enum.HumanoidStateType.Jumping) -- Muda o estado do personagem para pulando
        end)
    else -- Se o Fly estiver desativado
        flyButton.BackgroundColor3 = Color3.fromRGB(128, 128, 128) -- Muda a cor do botão para cinza
    end
end

-- Cria uma variável para armazenar o estado do ESP
local espEnabled = false

-- Cria uma função para ativar ou desativar o ESP
local function toggleESP()
    espEnabled = not espEnabled -- Inverte o valor da variável
    if espEnabled then -- Se o ESP estiver ativado
        espButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0) -- Muda a cor do botão para verde
        for _, player in pairs(game.Players:GetPlayers()) do -- Percorre todos os jogadores do jogo
            if player ~= game.Players.LocalPlayer then -- Se o jogador não for o usuário
                local espBox = Instance.new("BillboardGui") -- Cria uma caixa de ESP
                espBox.Name = "ESP"
                espBox.Parent = player.Character.Head
                espBox.AlwaysOnTop = true
                espBox.Size = UDim2.new(0, 200, 0, 50)
                espBox.StudsOffset = Vector3.new(0, 2, 0)
                local espLabel = Instance.new("TextLabel") -- Cria um texto para o ESP
                espLabel.Name = "ESP"
                espLabel.Parent = espBox
                espLabel.BackgroundColor3 = Color3.new(0, 0, 0)
                espLabel.BorderSizePixel = 0
                espLabel.Size = UDim2.new(1, 0, 1, 0)
                espLabel.Font = Enum.Font.SourceSansBold
                espLabel.Text = player.Name .. " (" .. player.Team.Name .. ")" -- Mostra o nome e a equipe do jogador
                espLabel.TextColor3 = Color3.new(1, 1, 1)
                espLabel.TextSize = 18
            end
        end
    else -- Se o ESP estiver desativado
        espButton.BackgroundColor3 = Color3.fromRGB(128, 128, 128) -- Muda a cor do botão para cinza
    end
end
